{"ast":null,"code":"import React,{useEffect}from\"react\";import{useParams,Route,Link,useRouteMatch}from\"react-router-dom\";import Comments from\"../components/comments/Comments\";import HighlightedQuote from\"../components/quotes/HighlightedQuote\";import useHttp from\"../hooks/use-http\";import{getSingleQuote}from\"../lib/api\";import LoadingSpinner from\"../components/UI/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteDetail=function QuoteDetail(){var match=useRouteMatch();var params=useParams();var quoteId=params.quoteId;var _useHttp=useHttp(getSingleQuote,true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedQuotes=_useHttp.data,error=_useHttp.error;useEffect(function(){sendRequest(quoteId);},[sendRequest,quoteId]);if(status===\"pending\"){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}if(!loadedQuotes.text){return/*#__PURE__*/_jsx(\"p\",{children:\"No quote found!\"});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(HighlightedQuote,{text:loadedQuotes.text,author:loadedQuotes.author}),/*#__PURE__*/_jsx(Route,{path:match.path,exact:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(Link,{className:\"btn--flat\",to:\"\".concat(match.url,\"/comments\"),children:\"Load Comments\"})})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/comments\"),children:/*#__PURE__*/_jsx(Comments,{})})]});};export default QuoteDetail;","map":{"version":3,"names":["React","useEffect","useParams","Route","Link","useRouteMatch","Comments","HighlightedQuote","useHttp","getSingleQuote","LoadingSpinner","QuoteDetail","match","params","quoteId","sendRequest","status","loadedQuotes","data","error","text","author","path","url"],"sources":["/home/wenhao/Crash-courses/React/React-Courses-V2/13-practice-app-react-router-v5-deployment/src/pages/QuoteDetail.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useParams, Route, Link, useRouteMatch } from \"react-router-dom\";\nimport Comments from \"../components/comments/Comments\";\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\nimport useHttp from \"../hooks/use-http\";\nimport { getSingleQuote } from \"../lib/api\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\n\nconst QuoteDetail = () => {\n  const match = useRouteMatch();\n  const params = useParams();\n\n  const { quoteId } = params;\n\n  const {\n    sendRequest,\n    status,\n    data: loadedQuotes,\n    error,\n  } = useHttp(getSingleQuote, true);\n\n  useEffect(() => {\n    sendRequest(quoteId);\n  }, [sendRequest, quoteId]);\n\n  if (status === \"pending\") {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  if (!loadedQuotes.text) {\n    return <p>No quote found!</p>;\n  }\n\n  return (\n    <React.Fragment>\n      <HighlightedQuote text={loadedQuotes.text} author={loadedQuotes.author} />\n\n      <Route path={match.path} exact>\n        <div className=\"centered\">\n          <Link className=\"btn--flat\" to={`${match.url}/comments`}>\n            Load Comments\n          </Link>\n        </div>\n      </Route>\n      <Route path={`${match.path}/comments`}>\n        <Comments />\n      </Route>\n    </React.Fragment>\n  );\n};\n\nexport default QuoteDetail;\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,CAAoBC,KAApB,CAA2BC,IAA3B,CAAiCC,aAAjC,KAAsD,kBAAtD,CACA,MAAOC,SAAP,KAAqB,iCAArB,CACA,MAAOC,iBAAP,KAA6B,uCAA7B,CACA,MAAOC,QAAP,KAAoB,mBAApB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,MAAOC,eAAP,KAA2B,iCAA3B,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMC,MAAK,CAAGP,aAAa,EAA3B,CACA,GAAMQ,OAAM,CAAGX,SAAS,EAAxB,CAEA,GAAQY,QAAR,CAAoBD,MAApB,CAAQC,OAAR,CAEA,aAKIN,OAAO,CAACC,cAAD,CAAiB,IAAjB,CALX,CACEM,WADF,UACEA,WADF,CAEEC,MAFF,UAEEA,MAFF,CAGQC,YAHR,UAGEC,IAHF,CAIEC,KAJF,UAIEA,KAJF,CAOAlB,SAAS,CAAC,UAAM,CACdc,WAAW,CAACD,OAAD,CAAX,CACD,CAFQ,CAEN,CAACC,WAAD,CAAcD,OAAd,CAFM,CAAT,CAIA,GAAIE,MAAM,GAAK,SAAf,CAA0B,CACxB,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CAED,GAAIG,KAAJ,CAAW,CACT,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CAED,GAAI,CAACF,YAAY,CAACG,IAAlB,CAAwB,CACtB,mBAAO,sCAAP,CACD,CAED,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,KAAC,gBAAD,EAAkB,IAAI,CAAEH,YAAY,CAACG,IAArC,CAA2C,MAAM,CAAEH,YAAY,CAACI,MAAhE,EADF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAET,KAAK,CAACU,IAAnB,CAAyB,KAAK,KAA9B,uBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,WAAKV,KAAK,CAACW,GAAX,aAA9B,2BADF,EADF,EAHF,cAUE,KAAC,KAAD,EAAO,IAAI,WAAKX,KAAK,CAACU,IAAX,aAAX,uBACE,KAAC,QAAD,IADF,EAVF,GADF,CAgBD,CAjDD,CAmDA,cAAeX,YAAf"},"metadata":{},"sourceType":"module"}